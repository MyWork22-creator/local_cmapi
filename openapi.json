{"openapi":"3.1.0","info":{"title":"FastAPI RBAC System üîê","description":"A comprehensive FastAPI application with Role-Based Access Control (RBAC) authentication system","version":"1.0.0"},"paths":{"/api/v1/help":{"get":{"tags":["authentication"],"summary":"Authentication Help","description":"Get help on how to authenticate and use the API","operationId":"get_auth_help_api_v1_help_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/login":{"post":{"tags":["authentication"],"summary":"User Login","description":"Authenticate user and get access token","operationId":"login_api_v1_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserLogin"}}},"required":true},"responses":{"200":{"description":"Login successful","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"},"example":{"access_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...","token_type":"bearer"}}}},"400":{"description":"Invalid credentials"},"401":{"description":"Authentication failed"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/refresh":{"post":{"tags":["authentication"],"summary":"Refresh Token","description":"Get a new access token using the refresh token from cookies","operationId":"refresh_api_v1_refresh_post","responses":{"200":{"description":"New access token generated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"},"example":{"access_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...","token_type":"bearer"}}}},"401":{"description":"Invalid or missing refresh token"}}}},"/api/v1/logout":{"post":{"tags":["authentication"],"summary":"User Logout","description":"Logout user by blacklisting current token and clearing refresh token cookie","operationId":"logout_api_v1_logout_post","responses":{"200":{"description":"Logout successful","content":{"application/json":{"schema":{"title":"Response Logout Api V1 Logout Post"}}}},"401":{"description":"Invalid or missing token"}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/password-policy":{"get":{"tags":["authentication"],"summary":"Get Password Policy","description":"Get password requirements and policy information","operationId":"get_password_policy_api_v1_password_policy_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Get Password Policy Api V1 Password Policy Get"}}}}}}},"/api/v1/change-password":{"post":{"tags":["authentication"],"summary":"Change Password","description":"Change current user's password","operationId":"change_password_api_v1_change_password_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PasswordChangeRequest"}}},"required":true},"responses":{"200":{"description":"Password changed successfully","content":{"application/json":{"schema":{"title":"Response Change Password Api V1 Change Password Post"}}}},"400":{"description":"Password validation failed"},"401":{"description":"Current password incorrect"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/me":{"get":{"tags":["authentication"],"summary":"Get Current User","description":"Get current authenticated user information","operationId":"read_current_user_api_v1_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserOut"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/users":{"get":{"tags":["users"],"summary":"List Users","description":"List all users. Requires users:read permission.","operationId":"list_users_api_v1_users_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/UserOut"},"type":"array","title":"Response List Users Api V1 Users Get"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"post":{"tags":["users"],"summary":"Create User (Admin Only)","description":"Create a new user account. Only admin users can create accounts.","operationId":"create_user_api_v1_users_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminUserCreate"}}},"required":true},"responses":{"200":{"description":"User created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserOut"},"example":{"id":3,"user_name":"newuser","status":"active","role_id":2,"created_at":"2025-08-12T10:30:00Z","updated_at":"2025-08-12T10:30:00Z"}}}},"400":{"description":"Username already exists or role not found"},"403":{"description":"Admin role required"},"500":{"description":"Server error"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/users/{user_id}":{"get":{"tags":["users"],"summary":"Get User","description":"Get specific user by ID. Requires users:read permission.","operationId":"get_user_api_v1_users__user_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["users"],"summary":"Update User","description":"Update user information (username, status, or role)","operationId":"update_user_api_v1_users__user_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdate"}}}},"responses":{"200":{"description":"User updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserOut"},"example":{"id":1,"user_name":"updated_username","status":"active","role_id":2,"created_at":"2025-08-12T10:00:00Z","updated_at":"2025-08-12T10:30:00Z"}}}},"400":{"description":"Invalid data (username taken, invalid status, role not found)"},"403":{"description":"Insufficient permissions (requires users:create)"},"404":{"description":"User not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["users"],"summary":"Delete User","description":"Permanently delete a user account","operationId":"delete_user_api_v1_users__user_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"200":{"description":"User deleted successfully","content":{"application/json":{"schema":{},"example":{"message":"User deleted successfully"}}}},"403":{"description":"Insufficient permissions (requires users:delete)"},"404":{"description":"User not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/{user_id}/status":{"patch":{"tags":["users"],"summary":"Update User Status","description":"Update only the status of a user account","operationId":"update_user_status_api_v1_users__user_id__status_patch","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserStatusUpdate"}}}},"responses":{"200":{"description":"User status updated successfully","content":{"application/json":{"schema":{},"example":{"message":"User status updated to active","user_id":1}}}},"400":{"description":"Invalid status value"},"403":{"description":"Insufficient permissions (requires users:update)"},"404":{"description":"User not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/{user_id}/with-role":{"get":{"tags":["users"],"summary":"Get User With Role","description":"Get user with full role information. Requires users:read permission.","operationId":"get_user_with_role_api_v1_users__user_id__with_role_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserWithRole"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/roles":{"get":{"tags":["roles"],"summary":"List Roles","description":"List all roles. Requires roles:read permission.","operationId":"list_roles_api_v1_roles_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/RoleOut"},"type":"array","title":"Response List Roles Api V1 Roles Get"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"post":{"tags":["roles"],"summary":"Create Role","description":"Create a new role with name and optional description","operationId":"create_role_api_v1_roles_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoleCreate"}}},"required":true},"responses":{"200":{"description":"Role created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoleOut"},"example":{"id":3,"name":"moderator","description":"Content moderator role","created_at":"2025-08-12T10:30:00Z","updated_at":"2025-08-12T10:30:00Z","permissions":[]}}}},"400":{"description":"Role name already exists"},"403":{"description":"Insufficient permissions (requires roles:create)"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/roles/{role_id}":{"get":{"tags":["roles"],"summary":"Get Role","description":"Get specific role by ID. Requires roles:read permission.","operationId":"get_role_api_v1_roles__role_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"role_id","in":"path","required":true,"schema":{"type":"integer","title":"Role Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoleOut"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["roles"],"summary":"Update Role","description":"Update role name and/or description","operationId":"update_role_api_v1_roles__role_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"role_id","in":"path","required":true,"schema":{"type":"integer","title":"Role Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoleUpdate"}}}},"responses":{"200":{"description":"Role updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoleOut"},"example":{"id":3,"name":"updated_moderator","description":"Updated moderator role description","created_at":"2025-08-12T10:30:00Z","updated_at":"2025-08-12T11:00:00Z","permissions":[]}}}},"400":{"description":"Role name already exists"},"403":{"description":"Insufficient permissions (requires roles:update)"},"404":{"description":"Role not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["roles"],"summary":"Delete Role","description":"Delete role. Requires roles:delete permission.","operationId":"delete_role_api_v1_roles__role_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"role_id","in":"path","required":true,"schema":{"type":"integer","title":"Role Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/roles/{role_id}/permissions":{"post":{"tags":["roles"],"summary":"Assign Permissions to Role","description":"Assign one or more permissions to a role (replaces existing permissions)","operationId":"assign_permissions_to_role_api_v1_roles__role_id__permissions_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"role_id","in":"path","required":true,"schema":{"type":"integer","title":"Role Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RolePermissionAssignment"}}}},"responses":{"200":{"description":"Permissions assigned successfully","content":{"application/json":{"schema":{},"example":{"message":"Permissions assigned successfully","role_id":3,"assigned_permissions":[1,2,4]}}}},"400":{"description":"Invalid permission IDs"},"403":{"description":"Insufficient permissions (requires roles:create)"},"404":{"description":"Role not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/roles/{role_id}/users":{"get":{"tags":["roles"],"summary":"Get Role Users","description":"Get all users assigned to a specific role. Requires roles:read permission.","operationId":"get_role_users_api_v1_roles__role_id__users_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"role_id","in":"path","required":true,"schema":{"type":"integer","title":"Role Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/permissions":{"get":{"tags":["permissions"],"summary":"List Permissions","description":"List all permissions. Requires permissions:read permission.","operationId":"list_permissions_api_v1_permissions_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/PermissionOut"},"type":"array","title":"Response List Permissions Api V1 Permissions Get"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/hierarchy/tree":{"get":{"tags":["role-hierarchy"],"summary":"Get Role Hierarchy Tree","description":"Get the complete role hierarchy as a tree structure","operationId":"get_role_hierarchy_tree_api_v1_hierarchy_tree_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/RoleTreeNode"},"type":"array","title":"Response Get Role Hierarchy Tree Api V1 Hierarchy Tree Get"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/hierarchy/{role_id}":{"get":{"tags":["role-hierarchy"],"summary":"Get Role with Hierarchy Info","description":"Get detailed role information including hierarchy and inherited permissions","operationId":"get_role_hierarchy_info_api_v1_hierarchy__role_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"role_id","in":"path","required":true,"schema":{"type":"integer","title":"Role Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoleWithHierarchy"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/hierarchy":{"post":{"tags":["role-hierarchy"],"summary":"Create Role with Parent","description":"Create a new role with optional parent role for hierarchy","operationId":"create_role_with_hierarchy_api_v1_hierarchy_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoleHierarchyCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoleWithHierarchy"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/hierarchy/{role_id}/parent":{"put":{"tags":["role-hierarchy"],"summary":"Update Role Parent","description":"Change the parent role of an existing role","operationId":"update_role_parent_api_v1_hierarchy__role_id__parent_put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"role_id","in":"path","required":true,"schema":{"type":"integer","title":"Role Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoleHierarchyUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoleWithHierarchy"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/hierarchy/permission/{permission_name}":{"get":{"tags":["role-hierarchy"],"summary":"Find Roles with Permission","description":"Find all roles that have a specific permission (direct or inherited)","operationId":"find_roles_with_permission_api_v1_hierarchy_permission__permission_name__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"permission_name","in":"path","required":true,"schema":{"type":"string","title":"Permission Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RolePermissionAnalysis"},"title":"Response Find Roles With Permission Api V1 Hierarchy Permission  Permission Name  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/hierarchy/user/{user_id}/permissions":{"get":{"tags":["role-hierarchy"],"summary":"Get User Effective Permissions","description":"Get all effective permissions for a user including inherited ones","operationId":"get_user_effective_permissions_api_v1_hierarchy_user__user_id__permissions_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EffectivePermissions"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/hierarchy/validate":{"get":{"tags":["role-hierarchy"],"summary":"Validate Hierarchy Integrity","description":"Check the integrity of the role hierarchy","operationId":"validate_hierarchy_integrity_api_v1_hierarchy_validate_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HierarchyValidationResult"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/hierarchy/fix-levels":{"post":{"tags":["role-hierarchy"],"summary":"Fix Hierarchy Levels","description":"Fix incorrect hierarchy levels in the role system","operationId":"fix_hierarchy_levels_api_v1_hierarchy_fix_levels_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Fix Hierarchy Levels Api V1 Hierarchy Fix Levels Post"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/banks":{"post":{"tags":["banks","banks"],"summary":"Create Bank","operationId":"create_bank_api_v1_banks_post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BankCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponse_BankResponse_"}}}},"401":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Unauthorized"},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Forbidden"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Not Found"},"409":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Conflict"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["banks","banks"],"summary":"List Banks","operationId":"list_banks_api_v1_banks_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListResponse_BankResponse_"}}}},"401":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Unauthorized"},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Forbidden"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Not Found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/banks/{bank_id}":{"get":{"tags":["banks","banks"],"summary":"Get Bank","operationId":"get_bank_api_v1_banks__bank_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"bank_id","in":"path","required":true,"schema":{"type":"integer","title":"Bank Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BankResponse"}}}},"401":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Unauthorized"},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Forbidden"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Not Found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["banks","banks"],"summary":"Update Bank","operationId":"update_bank_api_v1_banks__bank_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"bank_id","in":"path","required":true,"schema":{"type":"integer","title":"Bank Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BankUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponse_BankResponse_"}}}},"401":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Unauthorized"},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Forbidden"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Not Found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["banks","banks"],"summary":"Delete Bank","operationId":"delete_bank_api_v1_banks__bank_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"bank_id","in":"path","required":true,"schema":{"type":"integer","title":"Bank Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BankDeletionResponse"}}}},"401":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Unauthorized"},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Forbidden"},"404":{"description":"Bank not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"409":{"description":"Conflict: Bank cannot be deleted as it has associated customers.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/customers":{"post":{"tags":["customers","customers"],"summary":"Create Customer","operationId":"create_customer_api_v1_customers_post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponse_CustomerResponse_"}}}},"401":{"description":"Unauthorized: Not authenticated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"Forbidden: Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Resource not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"409":{"description":"Conflict: Customer ID already exists","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["customers","customers"],"summary":"List Customers","description":"Retrieve a paginated list of all customers.\n\nIncludes pagination details and eager-loads the associated user.","operationId":"list_customers_api_v1_customers_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListResponse_CustomerResponse_"}}}},"401":{"description":"Unauthorized: Not authenticated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"Forbidden: Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Resource not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/customers/{id}":{"get":{"tags":["customers","customers"],"summary":"Get Customer","description":"Get a single customer by their unique integer ID.","operationId":"get_customer_api_v1_customers__id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponse_CustomerResponse_"}}}},"401":{"description":"Unauthorized: Not authenticated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"Forbidden: Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Not Found: Customer not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["customers","customers"],"summary":"Update Customer","description":"Update an existing customer's information.","operationId":"update_customer_api_v1_customers__id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessResponse_CustomerResponse_"}}}},"401":{"description":"Unauthorized: Not authenticated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"Forbidden: Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Not Found: Customer not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["customers","customers"],"summary":"Delete Customer","description":"Delete a customer entry by ID and return a detailed deletion response.","operationId":"delete_customer_api_v1_customers__id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerDeletionResponse"}}}},"401":{"description":"Unauthorized: Not authenticated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"Forbidden: Insufficient permissions","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Not Found: Customer not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/":{"get":{"tags":["health"],"summary":"Health","operationId":"health__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"AdminUserCreate":{"properties":{"username":{"type":"string","title":"Username"},"password":{"type":"string","title":"Password"},"role_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Role Id"}},"type":"object","required":["username","password"],"title":"AdminUserCreate"},"BankCreate":{"properties":{"bank_name":{"type":"string","maxLength":255,"minLength":2,"title":"Bank Name","description":"Name of the bank (2-255 characters)","example":"ABC Bank"},"logo":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Logo","description":"URL to the bank's logo image","example":"https://example.com/logo.png"},"description":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Description","description":"Brief description of the bank","example":"A leading financial institution providing comprehensive banking services"}},"type":"object","required":["bank_name"],"title":"BankCreate","description":"Schema for creating a new bank.\nUsed for POST /banks/ endpoint.","example":{"bank_name":"First National Bank","description":"A trusted financial partner since 1950","logo":"https://example.com/fnb-logo.png"}},"BankDeletionResponse":{"properties":{"message":{"type":"string","title":"Message","default":"Bank deleted successfully"},"bank_id":{"type":"integer","title":"Bank Id"},"bank_name":{"type":"string","title":"Bank Name"},"created_by_user_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Created By User Id"},"timestamp":{"type":"string","format":"date-time","title":"Timestamp","description":"Response timestamp","example":"2025-08-12T07:06:45.547759Z"}},"type":"object","required":["bank_id","bank_name","created_by_user_id"],"title":"BankDeletionResponse","description":"Schema for a detailed response after a bank has been deleted."},"BankResponse":{"properties":{"bank_name":{"type":"string","maxLength":255,"minLength":2,"title":"Bank Name","description":"Name of the bank (2-255 characters)","example":"ABC Bank"},"logo":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Logo","description":"URL to the bank's logo image","example":"https://example.com/logo.png"},"description":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Description","description":"Brief description of the bank","example":"A leading financial institution providing comprehensive banking services"},"bank_id":{"type":"integer","title":"Bank Id","description":"Unique identifier for the bank"},"created_by_user_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Created By User Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["bank_name","bank_id","created_at","updated_at"],"title":"BankResponse","description":"Schema for a full bank response from the database.\n\nInherits all fields and adds auto-generated fields from the database model."},"BankSummary":{"properties":{"bank_id":{"type":"integer","title":"Bank Id"},"bank_name":{"type":"string","title":"Bank Name"}},"type":"object","required":["bank_id","bank_name"],"title":"BankSummary"},"BankUpdate":{"properties":{"bank_name":{"anyOf":[{"type":"string","maxLength":255,"minLength":2},{"type":"null"}],"title":"Bank Name","example":"Updated Bank Name"},"logo":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Logo","example":"https://example.com/new-logo.png"},"description":{"anyOf":[{"type":"string","maxLength":1000},{"type":"null"}],"title":"Description","example":"Updated bank description"}},"type":"object","title":"BankUpdate","description":"Schema for updating an existing bank.\nAll fields are optional to support partial updates.\nUsed for PUT /banks/{bank_id} endpoint.","example":{"bank_name":"Updated Bank Name","description":"Updated description with new services","logo":"https://example.com/updated-logo.png"}},"CustomerCreate":{"properties":{"customer_id":{"type":"string","maxLength":20,"title":"Customer Id"},"type":{"type":"string","maxLength":20,"title":"Type"},"currency":{"type":"string","maxLength":3,"title":"Currency"},"credit":{"anyOf":[{"type":"number","maximum":9999999999999.99,"minimum":0.0},{"type":"string"}],"title":"Credit","description":"Credit amount (non-negative, max 9,999,999,999,999.99)","example":"1000.00"},"amount":{"anyOf":[{"type":"number","maximum":9999999999999.99,"minimum":0.0},{"type":"string"}],"title":"Amount","description":"Amount (non-negative, max 9,999,999,999,999.99)","example":"1000.00"},"bank_id":{"type":"integer","title":"Bank Id"},"note":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Note"}},"type":"object","required":["customer_id","type","currency","credit","amount","bank_id"],"title":"CustomerCreate"},"CustomerDeletionResponse":{"properties":{"message":{"type":"string","title":"Message","default":"Customer deleted successfully"},"customer_id":{"type":"string","title":"Customer Id"},"bank_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Bank Id"},"created_by_user_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Created By User Id"},"timestamp":{"type":"string","format":"date-time","title":"Timestamp","description":"Response timestamp","example":"2025-08-12T07:06:45.547759Z"}},"type":"object","required":["customer_id","bank_id","created_by_user_id"],"title":"CustomerDeletionResponse","description":"Schema for a detailed response after a customer has been deleted."},"CustomerResponse":{"properties":{"id":{"type":"integer","title":"Id"},"customer_id":{"type":"string","title":"Customer Id"},"type":{"type":"string","title":"Type"},"currency":{"type":"string","title":"Currency"},"credit":{"type":"string","title":"Credit"},"amount":{"type":"string","title":"Amount"},"note":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Note"},"bank":{"$ref":"#/components/schemas/BankSummary"},"create_at":{"type":"string","format":"date-time","title":"Create At"},"update_at":{"type":"string","format":"date-time","title":"Update At"},"create_by_user":{"type":"integer","title":"Create By User"}},"type":"object","required":["id","customer_id","type","currency","credit","amount","note","bank","create_at","update_at","create_by_user"],"title":"CustomerResponse"},"CustomerUpdate":{"properties":{"customer_id":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Customer Id"},"type":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Type"},"currency":{"anyOf":[{"type":"string","maxLength":3},{"type":"null"}],"title":"Currency"},"credit":{"anyOf":[{"type":"number"},{"type":"string"},{"type":"null"}],"title":"Credit"},"amount":{"anyOf":[{"type":"number"},{"type":"string"},{"type":"null"}],"title":"Amount"},"bank_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Bank Id"},"note":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Note"}},"type":"object","title":"CustomerUpdate"},"EffectivePermissions":{"properties":{"user_id":{"type":"integer","title":"User Id"},"username":{"type":"string","title":"Username"},"role_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Role Id"},"role_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Role Name"},"role_level":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Role Level"},"permissions":{"items":{"type":"string"},"type":"array","title":"Permissions"},"permission_count":{"type":"integer","title":"Permission Count"}},"type":"object","required":["user_id","username","role_id","role_name","role_level","permissions","permission_count"],"title":"EffectivePermissions","description":"Schema for user's effective permissions."},"ErrorResponse":{"properties":{"detail":{"type":"string","title":"Detail","description":"Human-readable error message","example":"Resource not found"},"error_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Code","description":"Machine-readable error code","example":"NOT_FOUND_ERROR"},"path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Path","description":"API path where the error occurred","example":"/api/v1/banks/999"},"method":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Method","description":"HTTP method used","example":"GET"},"timestamp":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Timestamp","description":"Error timestamp","example":"2024-01-01T12:00:00Z"},"errors":{"anyOf":[{"items":{"type":"object"},"type":"array"},{"type":"null"}],"title":"Errors","description":"Detailed validation errors (for validation failures)"}},"type":"object","required":["detail"],"title":"ErrorResponse","description":"Standard error response schema.\n\nUsed for all API error responses to ensure consistency.","example":{"detail":"Bank with ID 999 not found","error_code":"NOT_FOUND_ERROR","method":"GET","path":"/api/v1/banks/999","timestamp":"2024-01-01T12:00:00Z"}},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HierarchyIntegrityIssue":{"properties":{"type":{"type":"string","title":"Type"},"role_id":{"type":"integer","title":"Role Id"},"role_name":{"type":"string","title":"Role Name"},"description":{"type":"string","title":"Description"},"current_level":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Current Level"},"expected_level":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Expected Level"}},"type":"object","required":["type","role_id","role_name","description"],"title":"HierarchyIntegrityIssue","description":"Schema for hierarchy integrity issues."},"HierarchyValidationResult":{"properties":{"is_valid":{"type":"boolean","title":"Is Valid"},"issues":{"items":{"$ref":"#/components/schemas/HierarchyIntegrityIssue"},"type":"array","title":"Issues"},"total_roles":{"type":"integer","title":"Total Roles"},"issues_count":{"type":"integer","title":"Issues Count"}},"type":"object","required":["is_valid","issues","total_roles","issues_count"],"title":"HierarchyValidationResult","description":"Schema for hierarchy validation results."},"ListResponse_BankResponse_":{"properties":{"items":{"items":{"$ref":"#/components/schemas/BankResponse"},"type":"array","title":"Items","description":"List of items for the current page"},"total":{"type":"integer","minimum":0.0,"title":"Total","description":"Total number of items across all pages","example":150},"limit":{"type":"integer","maximum":1000.0,"minimum":1.0,"title":"Limit","description":"Maximum number of items per page","example":50},"offset":{"type":"integer","minimum":0.0,"title":"Offset","description":"Number of items skipped","example":0},"page":{"anyOf":[{"type":"integer","minimum":1.0},{"type":"null"}],"title":"Page","description":"Current page number (1-based)","example":1},"pages":{"anyOf":[{"type":"integer","minimum":1.0},{"type":"null"}],"title":"Pages","description":"Total number of pages","example":3},"has_next":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Has Next","description":"Whether there are more pages","example":true},"has_prev":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Has Prev","description":"Whether there are previous pages","example":false}},"type":"object","required":["items","total","limit","offset"],"title":"ListResponse[BankResponse]","example":{"has_next":true,"has_prev":false,"items":[],"limit":50,"offset":0,"page":1,"pages":3,"total":150}},"ListResponse_CustomerResponse_":{"properties":{"items":{"items":{"$ref":"#/components/schemas/CustomerResponse"},"type":"array","title":"Items","description":"List of items for the current page"},"total":{"type":"integer","minimum":0.0,"title":"Total","description":"Total number of items across all pages","example":150},"limit":{"type":"integer","maximum":1000.0,"minimum":1.0,"title":"Limit","description":"Maximum number of items per page","example":50},"offset":{"type":"integer","minimum":0.0,"title":"Offset","description":"Number of items skipped","example":0},"page":{"anyOf":[{"type":"integer","minimum":1.0},{"type":"null"}],"title":"Page","description":"Current page number (1-based)","example":1},"pages":{"anyOf":[{"type":"integer","minimum":1.0},{"type":"null"}],"title":"Pages","description":"Total number of pages","example":3},"has_next":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Has Next","description":"Whether there are more pages","example":true},"has_prev":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Has Prev","description":"Whether there are previous pages","example":false}},"type":"object","required":["items","total","limit","offset"],"title":"ListResponse[CustomerResponse]","example":{"has_next":true,"has_prev":false,"items":[],"limit":50,"offset":0,"page":1,"pages":3,"total":150}},"PasswordChangeRequest":{"properties":{"current_password":{"type":"string","title":"Current Password"},"new_password":{"type":"string","title":"New Password"}},"type":"object","required":["current_password","new_password"],"title":"PasswordChangeRequest"},"PermissionInfo":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","required":["id","name"],"title":"PermissionInfo","description":"Schema for permission information."},"PermissionOut":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","name","created_at","updated_at"],"title":"PermissionOut"},"RoleCreate":{"properties":{"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"parent_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Parent Id"}},"type":"object","required":["name"],"title":"RoleCreate"},"RoleHierarchyCreate":{"properties":{"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"parent_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Parent Id"}},"type":"object","required":["name"],"title":"RoleHierarchyCreate","description":"Schema for creating a role with hierarchy."},"RoleHierarchyInfo":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"level":{"type":"integer","title":"Level"}},"type":"object","required":["id","name","level"],"title":"RoleHierarchyInfo","description":"Schema for role hierarchy path information."},"RoleHierarchyUpdate":{"properties":{"parent_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Parent Id"}},"type":"object","title":"RoleHierarchyUpdate","description":"Schema for updating role hierarchy."},"RoleOut":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"parent_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Parent Id"},"level":{"type":"integer","title":"Level","default":0},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"permissions":{"items":{"$ref":"#/components/schemas/PermissionOut"},"type":"array","title":"Permissions"}},"type":"object","required":["id","name","created_at","updated_at"],"title":"RoleOut"},"RolePermissionAnalysis":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"level":{"type":"integer","title":"Level"},"has_direct":{"type":"boolean","title":"Has Direct"},"has_inherited":{"type":"boolean","title":"Has Inherited"},"inherited_from":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Inherited From"}},"type":"object","required":["id","name","level","has_direct","has_inherited"],"title":"RolePermissionAnalysis","description":"Schema for role permission analysis."},"RolePermissionAssignment":{"properties":{"permission_ids":{"items":{"type":"integer"},"type":"array","title":"Permission Ids"}},"type":"object","required":["permission_ids"],"title":"RolePermissionAssignment"},"RoleTreeNode":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"level":{"type":"integer","title":"Level"},"direct_permissions":{"items":{"type":"string"},"type":"array","title":"Direct Permissions"},"all_permissions":{"items":{"type":"string"},"type":"array","title":"All Permissions"},"children":{"items":{"$ref":"#/components/schemas/RoleTreeNode"},"type":"array","title":"Children","default":[]}},"type":"object","required":["id","name","description","level","direct_permissions","all_permissions"],"title":"RoleTreeNode","description":"Schema for role hierarchy tree node."},"RoleUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","title":"RoleUpdate"},"RoleWithHierarchy":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"level":{"type":"integer","title":"Level"},"parent_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Parent Id"},"parent_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Parent Name"},"direct_permissions":{"items":{"$ref":"#/components/schemas/PermissionInfo"},"type":"array","title":"Direct Permissions"},"inherited_permissions":{"items":{"$ref":"#/components/schemas/PermissionInfo"},"type":"array","title":"Inherited Permissions"},"all_permissions":{"items":{"$ref":"#/components/schemas/PermissionInfo"},"type":"array","title":"All Permissions"},"hierarchy_path":{"items":{"$ref":"#/components/schemas/RoleHierarchyInfo"},"type":"array","title":"Hierarchy Path"},"children":{"items":{"$ref":"#/components/schemas/RoleHierarchyInfo"},"type":"array","title":"Children"}},"type":"object","required":["id","name","description","level","parent_id","parent_name","direct_permissions","inherited_permissions","all_permissions","hierarchy_path","children"],"title":"RoleWithHierarchy","description":"Schema for role with complete hierarchy information."},"SuccessResponse_BankResponse_":{"properties":{"message":{"type":"string","title":"Message","description":"A human-readable success message.","example":"Operation completed successfully"},"data":{"$ref":"#/components/schemas/BankResponse"}},"type":"object","required":["message","data"],"title":"SuccessResponse[BankResponse]"},"SuccessResponse_CustomerResponse_":{"properties":{"message":{"type":"string","title":"Message","description":"A human-readable success message.","example":"Operation completed successfully"},"data":{"$ref":"#/components/schemas/CustomerResponse"}},"type":"object","required":["message","data"],"title":"SuccessResponse[CustomerResponse]"},"Token":{"properties":{"access_token":{"type":"string","title":"Access Token"},"token_type":{"type":"string","title":"Token Type"}},"type":"object","required":["access_token","token_type"],"title":"Token"},"UserLogin":{"properties":{"username":{"type":"string","title":"Username"},"password":{"type":"string","title":"Password"}},"type":"object","required":["username","password"],"title":"UserLogin"},"UserOut":{"properties":{"id":{"type":"integer","title":"Id"},"user_name":{"type":"string","title":"User Name"},"status":{"type":"string","title":"Status"},"role":{"$ref":"#/components/schemas/RoleOut"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"permissions":{"items":{"type":"string"},"type":"array","title":"Permissions"}},"type":"object","required":["id","user_name","status","role","created_at","updated_at"],"title":"UserOut"},"UserStatusUpdate":{"properties":{"status":{"type":"string","title":"Status"}},"type":"object","required":["status"],"title":"UserStatusUpdate"},"UserUpdate":{"properties":{"username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Username"},"status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"},"role_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Role Id"}},"type":"object","title":"UserUpdate"},"UserWithRole":{"properties":{"id":{"type":"integer","title":"Id"},"user_name":{"type":"string","title":"User Name"},"status":{"type":"string","title":"Status"},"role":{"$ref":"#/components/schemas/RoleOut"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","user_name","status","role","created_at","updated_at"],"title":"UserWithRole"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"OAuth2PasswordBearer":{"type":"oauth2","flows":{"password":{"scopes":{},"tokenUrl":"/api/v1/auth/login"}}}}}}